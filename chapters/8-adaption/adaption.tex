\chapter{Adaption of example applications}
\label{ch:adaption}
In this chapter, to show the feasibility of the approach, two open-source e-mail clients adapted to support run-time state migration based on the developed approach as part of the thesis.

As a developer who wants to implement the enabling run-time state migration, we used the developed approach, middleware, libraries, deriving interfaces, and adaptability to existing same-purpose applications. 

\section{Application State Models}
After analyzing states of these applications and their source code (Table \ref{tab:states_of_email_applications}), we decided to model "search" and "sending-email" states. We developed two common Application State Models for these two applications (Listing \ref{lis:search-schema} and \ref{lis:sending-email-schema}). 



\section{Example Applications}
These applications are for different platforms, and their source code is freely accessible to allow the integration of libraries. 
Suggestions for e-mail clients to be adapted are K-9 Mail for Android and Mailspring for desktop operating systems. They are interactive applications for end-users and have sufficient complexity (e.g., applications do not have only one single state).
K9-Mail Android application is developed in Java; therefore, it requires the Android library. Moreover, Mailspring is developed using Electron and Node.js for desktop operating systems, and it needs the JavaScript library.

\subsection{Mailspring}
Mailspring is an open-source e-mail client application\footnote{\url{https://getmailspring.com/}}. The source code of this application is available on GitHub\footnote{\url{https://github.com/Foundry376/Mailspring}}. This application can be installed on desktop operating systems like macOS, Linux, and Windows.
\subsubsection{Architecture}
As Mailspring is written in TypeScript and is based on Electron, the process that runs package.json's main script is called the main process. The main process's script can display a UI by generating web pages. An Electron app has only one main process. Also, Electron has another type of process, which is the renderer process, and each web page runs in its own renderer process. Electron provides a special API for communication of main process and renderer processes \cite{electron}. Furthermore, Mailspring's UI is developed in ReactJS, which is a JavaScript UI library. Each part of the UI is a ReactJS component.

\subsubsection{Adaptions}
The run-time state migration JavaScript library and Application State Models interfaces are integrated into the main process's script. On the other hand, all UI adaptions are in ReactJS components. 


\subsection{K-9 Mail}
K-9 Mail is an open-source e-mail client application\footnote{\url{https://k9mail.app/}}. The source code of this application is available on GitHub\footnote{\url{https://github.com/k9mail/k-9}}. This application can be installed on Android devices.

\subsubsection{Architecture}

\subsubsection{Adaptions}

